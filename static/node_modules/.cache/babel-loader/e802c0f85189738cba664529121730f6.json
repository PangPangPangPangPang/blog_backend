{"ast":null,"code":"import _classCallCheck from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/max/blog_frontend/src/container/modal/modal.js\";\n\n/**\n * Created by Max on 2019-03-25.\n */\nimport React from 'react';\nimport './modal.css';\nimport ReactDom from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Modal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Modal, _React$Component);\n\n  function Modal(props) {\n    var _this;\n\n    _classCallCheck(this, Modal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Modal).call(this, props));\n\n    _this.subComponent = function () {\n      return null;\n    };\n\n    _this.onClickSubmit = function () {\n      var clickSubmit = _this.props.clickSubmit;\n      clickSubmit();\n    };\n\n    _this.onClickCancel = function () {\n      var clickCancel = _this.props.clickCancel;\n\n      if (clickCancel != null) {\n        clickCancel();\n      }\n    };\n\n    var rect = document.body.getBoundingClientRect();\n    _this.state = {\n      height: document.body.clientHeight,\n      width: document.body.clientWidth,\n      top: -rect.top\n    };\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var show = this.props.show;\n\n      if (show) {\n        document.body.style.overflow = 'hidden';\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.body.style.overflow = 'auto';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var show = this.props.show;\n      var _this$state = this.state,\n          width = _this$state.width,\n          height = _this$state.height,\n          top = _this$state.top;\n\n      if (!show) {\n        return null;\n      } // 该方法可以指定父组件\n\n\n      return ReactDom.createPortal(React.createElement(\"div\", {\n        className: \"modal\",\n        style: {\n          height: height,\n          width: width,\n          top: top\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.subComponent())), document.body);\n    }\n  }]);\n\n  return Modal;\n}(React.Component);\n\nModal.propTypes = {\n  show: PropTypes.bool,\n  clickSubmit: PropTypes.func,\n  clickCancel: PropTypes.func\n};\nModal.defaultProps = {\n  show: false,\n  clickSubmit: null,\n  clickCancel: null\n};\nexport default Modal;","map":{"version":3,"sources":["/home/max/blog_frontend/src/container/modal/modal.js"],"names":["React","ReactDom","PropTypes","Modal","props","subComponent","onClickSubmit","clickSubmit","onClickCancel","clickCancel","rect","document","body","getBoundingClientRect","state","height","clientHeight","width","clientWidth","top","show","style","overflow","createPortal","Component","propTypes","bool","func","defaultProps"],"mappings":";;;;;;;AAAA;;;AAGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;IAEMC,K;;;;;AACJ,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;;AADiB,UAqBnBC,YArBmB,GAqBJ;AAAA,aAAM,IAAN;AAAA,KArBI;;AAAA,UAuBnBC,aAvBmB,GAuBH,YAAM;AAAA,UACZC,WADY,GACI,MAAKH,KADT,CACZG,WADY;AAEpBA,MAAAA,WAAW;AACZ,KA1BkB;;AAAA,UA4BnBC,aA5BmB,GA4BH,YAAM;AAAA,UACZC,WADY,GACI,MAAKL,KADT,CACZK,WADY;;AAEpB,UAAIA,WAAW,IAAI,IAAnB,EAAyB;AACvBA,QAAAA,WAAW;AACZ;AACF,KAjCkB;;AAEjB,QAAMC,IAAI,GAAGC,QAAQ,CAACC,IAAT,CAAcC,qBAAd,EAAb;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAEJ,QAAQ,CAACC,IAAT,CAAcI,YADX;AAEXC,MAAAA,KAAK,EAAEN,QAAQ,CAACC,IAAT,CAAcM,WAFV;AAGXC,MAAAA,GAAG,EAAE,CAACT,IAAI,CAACS;AAHA,KAAb;AAHiB;AAQlB;;;;wCAEmB;AAAA,UACVC,IADU,GACD,KAAKhB,KADJ,CACVgB,IADU;;AAElB,UAAIA,IAAJ,EAAU;AACRT,QAAAA,QAAQ,CAACC,IAAT,CAAcS,KAAd,CAAoBC,QAApB,GAA+B,QAA/B;AACD;AACF;;;2CAEsB;AACrBX,MAAAA,QAAQ,CAACC,IAAT,CAAcS,KAAd,CAAoBC,QAApB,GAA+B,MAA/B;AACD;;;6BAgBQ;AAAA,UACCF,IADD,GACU,KAAKhB,KADf,CACCgB,IADD;AAAA,wBAEwB,KAAKN,KAF7B;AAAA,UAECG,KAFD,eAECA,KAFD;AAAA,UAEQF,MAFR,eAEQA,MAFR;AAAA,UAEgBI,GAFhB,eAEgBA,GAFhB;;AAGP,UAAI,CAACC,IAAL,EAAW;AACT,eAAO,IAAP;AACD,OALM,CAMP;;;AACA,aAAOnB,QAAQ,CAACsB,YAAT,CACL;AAAK,QAAA,SAAS,EAAC,OAAf;AAAuB,QAAA,KAAK,EAAE;AAAER,UAAAA,MAAM,EAANA,MAAF;AAAUE,UAAAA,KAAK,EAALA,KAAV;AAAiBE,UAAAA,GAAG,EAAHA;AAAjB,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKd,YAAL,EAAN,CADF,CADK,EAILM,QAAQ,CAACC,IAJJ,CAAP;AAMD;;;;EAjDiBZ,KAAK,CAACwB,S;;AAoD1BrB,KAAK,CAACsB,SAAN,GAAkB;AAChBL,EAAAA,IAAI,EAAElB,SAAS,CAACwB,IADA;AAEhBnB,EAAAA,WAAW,EAAEL,SAAS,CAACyB,IAFP;AAGhBlB,EAAAA,WAAW,EAAEP,SAAS,CAACyB;AAHP,CAAlB;AAMAxB,KAAK,CAACyB,YAAN,GAAqB;AACnBR,EAAAA,IAAI,EAAE,KADa;AAEnBb,EAAAA,WAAW,EAAE,IAFM;AAGnBE,EAAAA,WAAW,EAAE;AAHM,CAArB;AAMA,eAAeN,KAAf","sourcesContent":["/**\n * Created by Max on 2019-03-25.\n */\nimport React from 'react'\nimport './modal.css'\nimport ReactDom from 'react-dom'\nimport PropTypes from 'prop-types'\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props)\n    const rect = document.body.getBoundingClientRect()\n    this.state = {\n      height: document.body.clientHeight,\n      width: document.body.clientWidth,\n      top: -rect.top,\n    }\n  }\n\n  componentDidMount() {\n    const { show } = this.props\n    if (show) {\n      document.body.style.overflow = 'hidden'\n    }\n  }\n\n  componentWillUnmount() {\n    document.body.style.overflow = 'auto'\n  }\n\n  subComponent = () => null;\n\n  onClickSubmit = () => {\n    const { clickSubmit } = this.props\n    clickSubmit()\n  };\n\n  onClickCancel = () => {\n    const { clickCancel } = this.props\n    if (clickCancel != null) {\n      clickCancel()\n    }\n  };\n\n  render() {\n    const { show } = this.props\n    const { width, height, top } = this.state\n    if (!show) {\n      return null\n    }\n    // 该方法可以指定父组件\n    return ReactDom.createPortal(\n      <div className=\"modal\" style={{ height, width, top }}>\n        <div>{this.subComponent()}</div>\n      </div>,\n      document.body,\n    )\n  }\n}\n\nModal.propTypes = {\n  show: PropTypes.bool,\n  clickSubmit: PropTypes.func,\n  clickCancel: PropTypes.func,\n}\n\nModal.defaultProps = {\n  show: false,\n  clickSubmit: null,\n  clickCancel: null,\n}\n\nexport default Modal\n"]},"metadata":{},"sourceType":"module"}