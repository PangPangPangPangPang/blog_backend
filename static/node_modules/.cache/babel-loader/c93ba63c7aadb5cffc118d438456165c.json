{"ast":null,"code":"import _classCallCheck from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/max/blog_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/max/blog_frontend/src/container/list/list.js\";\n\n/**\n * Created by Max on 03/03/2017.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport './list.css';\nimport Summary from '../../compontent/summary';\nimport request from '../../action/request';\nimport { getStore } from '../../App';\nimport Loading from '../../compontent/loading';\nimport Footer from '../footer/footer';\nimport '../footer/footer.css';\nimport FriendLink from '../../compontent/friendlink';\nimport { isPC } from '../../utils/utils';\nvar FriendLinks = [{\n  name: '鸳鸯',\n  link: 'https://blog.y01.me',\n  description: 'stk大佬'\n}, {\n  name: 'ギャラ',\n  link: 'https://gyara.moe/',\n  description: '菜鸡不多说'\n}, {\n  name: 'Xixing',\n  link: 'https://xixing.dev/',\n  description: 'P11'\n}, {\n  name: 'Dan',\n  link: 'https://blog.igaryhe.io/',\n  description: '@DGN'\n}];\n\nvar List =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(List, _React$Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n\n    _this.getlist = function () {\n      var ret = [];\n      var list = _this.props.list;\n      var sourceList = list || [];\n\n      if (sourceList instanceof Array) {\n        for (var i = 0; i < sourceList.length; i += 1) {\n          ret.push(React.createElement(Summary, {\n            key: i,\n            tags: sourceList[i].tags,\n            name: sourceList[i].title,\n            id: sourceList[i].id,\n            time: sourceList[i].time,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }));\n        }\n      }\n\n      if (ret.length > 0) {\n        _this.showFooter = true;\n      }\n\n      return ret;\n    };\n\n    _this.getFooter = function () {\n      if (_this.showFooter) {\n        return React.createElement(Footer, {\n          key: 1000,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        });\n      }\n\n      return null;\n    };\n\n    _this.showFooter = false;\n    _this.state = {\n      content: getStore().getState().request.list || {}\n    };\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var dispatch = this.props.dispatch;\n      var state = getStore().getState();\n\n      if (!state.request.list) {\n        dispatch(request('list'));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var displayLoading = this.props.displayLoading;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: isPC() ? 'list-base list-base-pc' : 'list-base list-base-phone',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: isPC() ? 'list-template list-template-pc' : 'list-template list-template-phone',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.getlist(), React.createElement(Loading, {\n        show: displayLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"friend-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(FriendLink, {\n        list: FriendLinks,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }))), this.getFooter());\n    }\n  }]);\n\n  return List;\n}(React.Component);\n\nList.propTypes = {\n  displayLoading: PropTypes.number,\n  dispatch: PropTypes.func,\n  list: PropTypes.array\n};\nList.defaultProps = {\n  displayLoading: 1,\n  dispatch: {},\n  list: []\n};\n\nfunction mapStateToProps(state) {\n  var getShow = function getShow() {\n    if (state.request.articles) {\n      return 0;\n    }\n\n    return 1;\n  };\n\n  var getList = function getList() {\n    if (state.request.articles) {\n      return state.request.articles.list;\n    }\n\n    return [];\n  };\n\n  return {\n    list: getList(),\n    displayLoading: getShow()\n  };\n}\n\nexport default connect(mapStateToProps)(List);","map":{"version":3,"sources":["/home/max/blog_frontend/src/container/list/list.js"],"names":["React","PropTypes","connect","Summary","request","getStore","Loading","Footer","FriendLink","isPC","FriendLinks","name","link","description","List","props","getlist","ret","list","sourceList","Array","i","length","push","tags","title","id","time","showFooter","getFooter","state","content","getState","dispatch","displayLoading","Component","propTypes","number","func","array","defaultProps","mapStateToProps","getShow","articles","getList"],"mappings":"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","sourcesContent":["/**\n * Created by Max on 03/03/2017.\n */\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport './list.css'\nimport Summary from '../../compontent/summary'\nimport request from '../../action/request'\nimport { getStore } from '../../App'\nimport Loading from '../../compontent/loading'\nimport Footer from '../footer/footer'\nimport '../footer/footer.css'\nimport FriendLink from '../../compontent/friendlink'\nimport { isPC } from '../../utils/utils'\n\nconst FriendLinks = [\n  {\n    name: '鸳鸯',\n    link: 'https://blog.y01.me',\n    description: 'stk大佬',\n  },\n  {\n    name: 'ギャラ',\n    link: 'https://gyara.moe/',\n    description: '菜鸡不多说',\n  },\n  {\n    name: 'Xixing',\n    link: 'https://xixing.dev/',\n    description: 'P11',\n  },\n  {\n    name: 'Dan',\n    link: 'https://blog.igaryhe.io/',\n    description: '@DGN',\n  },\n]\n\nclass List extends React.Component {\n  static propTypes = {\n    displayLoading: PropTypes.number,\n    dispatch: PropTypes.func,\n    list: PropTypes.array,\n  };\n\n  static defaultProps = {\n    displayLoading: 1,\n    dispatch: {},\n    list: [],\n  };\n\n  constructor(props) {\n    super(props)\n    this.showFooter = false\n    this.state = {\n      content: getStore().getState().request.list || {},\n    }\n  }\n\n  componentDidMount() {\n    const { dispatch } = this.props\n    const state = getStore().getState()\n    if (!state.request.list) {\n      dispatch(request('list'))\n    }\n  }\n\n  getlist = () => {\n    const ret = []\n    const { list } = this.props\n    const sourceList = list || []\n    if (sourceList instanceof Array) {\n      for (let i = 0; i < sourceList.length; i += 1) {\n        ret.push(\n          <Summary\n            key={i}\n            tags={sourceList[i].tags}\n            name={sourceList[i].title}\n            id={sourceList[i].id}\n            time={sourceList[i].time}\n          />,\n        )\n      }\n    }\n    if (ret.length > 0) {\n      this.showFooter = true\n    }\n    return ret\n  };\n\n  getFooter = () => {\n    if (this.showFooter) {\n      return <Footer key={1000} />\n    }\n    return null\n  };\n\n  render() {\n    const { displayLoading } = this.props\n    return (\n      <div>\n        <div\n          className={\n            isPC() ? 'list-base list-base-pc' : 'list-base list-base-phone'\n          }\n        >\n          <div\n            className={\n              isPC()\n                ? 'list-template list-template-pc'\n                : 'list-template list-template-phone'\n            }\n          >\n            {this.getlist()}\n            <Loading show={displayLoading} />\n          </div>\n          <div className=\"friend-link\">\n            <FriendLink list={FriendLinks} />\n          </div>\n        </div>\n        {this.getFooter()}\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(state) {\n  const getShow = () => {\n    if (state.request.articles) {\n      return 0\n    }\n    return 1\n  }\n\n  const getList = () => {\n    if (state.request.articles) {\n      return state.request.articles.list\n    }\n    return []\n  }\n  return {\n    list: getList(),\n    displayLoading: getShow(),\n  }\n}\n\nexport default connect(mapStateToProps)(List)\n"]},"metadata":{},"sourceType":"module"}